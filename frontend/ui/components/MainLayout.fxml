<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.geometry.Insets?>
<BorderPane xmlns:fx="http://javafx.com/fxml/1" fx:controller="frontend.ui.controllers.MainLayoutController" styleClass="main-container">
    <left>
        <VBox spacing="20" styleClass="sidebar" prefWidth="220">
            <padding><Insets top="30" right="20" bottom="30" left="20"/></padding>
            
            <Label text="Gestion Des PFEs" styleClass="brand-logo" wrapText="true"/>
            
            <VBox fx:id="navContainer" spacing="8" VBox.vgrow="ALWAYS">
                <Button fx:id="btnDashboard" text="Dashboard" onAction="#onDashboard" styleClass="nav-button" />
                <Button fx:id="btnEtudiants" text="Étudiants" onAction="#onEtudiants" styleClass="nav-button" />
                <Button fx:id="btnEncadreurs" text="Encadreurs" onAction="#onEncadreurs" styleClass="nav-button" />
                <Button fx:id="btnPfe" text="PFE" onAction="#onPfe" styleClass="nav-button" />
                <Button fx:id="btnSoutenances" text="Soutenances" onAction="#onSoutenances" styleClass="nav-button" />
            </VBox>
            <VBox spacing="8">
                <Button fx:id="btnHelp" text="Help" onAction="#onHelp" styleClass="nav-button" />
            </VBox> 
        </VBox>
    </left>
    <center>
        <VBox spacing="20" styleClass="content-area">
            <padding><Insets top="25" right="25" bottom="25" left="25"/></padding>
            
            <HBox alignment="CENTER_LEFT">
                <Label fx:id="lblPageTitle" text="Dashboard" styleClass="header-title"/>
                <Region HBox.hgrow="ALWAYS" />
            </HBox>
            <StackPane fx:id="contentArea" VBox.vgrow="ALWAYS" />
        </VBox>
    </center>
    <right>
        <VBox spacing="20" styleClass="right-sidebar" prefWidth="320">
            <padding><Insets top="25" right="20" bottom="25" left="20"/></padding>
            
            <!-- Calendar Section -->
            <VBox spacing="10">
                <Label text="Calendrier" styleClass="section-title"/>
                
                <VBox spacing="10" styleClass="calendar-container">
                    <!-- Month Navigation -->
                    <HBox alignment="CENTER_LEFT">
                        <Button fx:id="btnToday" text="Aujourd'hui" onAction="#onToday" styleClass="nav-button" HBox.hgrow="ALWAYS" maxWidth="Infinity" />
                    </HBox>
                    <HBox alignment="CENTER" spacing="10">
                        <Button fx:id="btnPrevMonth" text="‹" onAction="#onPrevMonth" styleClass="calendar-nav-btn" prefWidth="36"/>
                        <Label fx:id="calendarMonthLabel" text="Janvier 2026" styleClass="calendar-month-label" HBox.hgrow="ALWAYS" alignment="CENTER"/>
                        <Button fx:id="btnNextMonth" text="›" onAction="#onNextMonth" styleClass="calendar-nav-btn" prefWidth="36"/>
                    </HBox> 
                    
                    <!-- Calendar Grid -->
                    <GridPane fx:id="calendarGrid" hgap="4" vgap="4" styleClass="calendar-grid">
                        <columnConstraints>
                            <ColumnConstraints percentWidth="14.28" />
                            <ColumnConstraints percentWidth="14.28" />
                            <ColumnConstraints percentWidth="14.28" />
                            <ColumnConstraints percentWidth="14.28" />
                            <ColumnConstraints percentWidth="14.28" />
                            <ColumnConstraints percentWidth="14.28" />
                            <ColumnConstraints percentWidth="14.28" />
                        </columnConstraints>
                    </GridPane>
                </VBox>
            </VBox>
            
            <Separator />
            
            <!-- Recent Soutenances Section -->
            <VBox spacing="15" VBox.vgrow="ALWAYS">
                <Label text="Soutenances récentes" styleClass="section-title"/>
                
                <ScrollPane fitToWidth="true" styleClass="transparent-scroll" VBox.vgrow="ALWAYS">
                    <VBox fx:id="scheduleList" spacing="10" />
                </ScrollPane>
            </VBox>
        </VBox>
    </right>
</BorderPane>